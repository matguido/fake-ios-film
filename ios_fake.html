<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Fake iOS â€“ Ã‰cran filmÃ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
html,body{margin:0;height:100%;background:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif}
.wrapper{display:flex;justify-content:center;align-items:center;height:100%}
.phone{width:375px;height:812px;border-radius:40px;overflow:hidden;position:relative;background-size:cover;background-position:center;color:white}
.overlay{position:absolute;inset:0;background:rgba(0,0,0,.25);pointer-events:none}
.status{position:relative;z-index:2;display:flex;justify-content:space-between;padding:14px;font-size:14px}
.lock{position:relative;z-index:2;text-align:center;margin-top:60px}
.time{font-size:64px;font-weight:200}
.date{font-size:18px;opacity:.9}
.notifications{position:relative;z-index:2;padding:20px;display:flex;flex-direction:column;gap:12px}
.notif{background:rgba(255,255,255,.18);backdrop-filter:blur(20px);border-radius:16px;padding:14px;display:flex;gap:10px;animation:slide .35s ease}
.notif img{width:32px;height:32px;border-radius:7px}
@keyframes slide{from{opacity:0;transform:translateY(-15px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
<div class="wrapper">
  <div class="phone" id="phone">
    <div class="overlay"></div>
    <div class="status"><span>ðŸ“¶</span><span>ðŸ”‹</span></div>
    <div class="lock">
      <div class="time" id="time">22:41</div>
      <div class="date" id="date">Vendredi 12 avril</div>
    </div>
    <div class="notifications" id="notifs"></div>
  </div>
</div>

<script>
const socket = new WebSocket('wss://demo.piesocket.com/v3/channel/cm-plateau-demo?api_key=demokey&notify_self=1');

socket.onmessage = e => {
  const d = JSON.parse(e.data);
  if(d.type==='time') updateTime(d);
  if(d.type==='notif') addNotif(d);
};

function updateTime(d){
  time.textContent = d.time;
  date.textContent = d.date;
  time.style.color = date.style.color = d.color;
  if(d.wallpaper) phone.style.backgroundImage = `url(${d.wallpaper})`;
}

function addNotif(d){
  const n=document.createElement('div');
  n.className='notif';
  n.innerHTML=`<img src="${d.icon}"><div><strong>${d.app}</strong><div>${d.title}</div><div>${d.body}</div></div>`;
  notifs.prepend(n);
}
</script>
</body>
</html>
