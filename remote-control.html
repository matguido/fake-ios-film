<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Remote Control â€“ Court mÃ©trage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#111;color:#fff;padding:20px}
h1{font-weight:500}
.panel{background:#1c1c1e;border-radius:16px;padding:16px;margin-bottom:16px}
label{font-size:14px;opacity:.8}
input,textarea,select{width:100%;margin:6px 0 12px;padding:10px;border-radius:10px;border:none;font-size:15px}
button{width:100%;padding:14px;border-radius:14px;border:none;background:#0a84ff;color:white;font-size:16px;font-weight:600;cursor:pointer}
button:active{opacity:.85}
</style>
</head>
<body>
<h1>ðŸŽ¬ Remote Control</h1>

<div class="panel">
<label>Heure</label>
<input id="time" value="22:41">
<label>Date</label>
<input id="date" value="Vendredi 12 avril">
<label>Couleur heure & date</label>
<select id="color">
  <option value="#ffffff">Blanc</option>
  <option value="#000000">Noir</option>
</select>
<label>Fond d'Ã©cran (URL)</label>
<input id="wallpaper" placeholder="https://...">
<button onclick="sendTime()">Mettre Ã  jour l'Ã©cran</button>
</div>

<div class="panel">
<label>Application</label>
<select id="app">
  <option value="Messages">Messages</option>
  <option value="WhatsApp">WhatsApp</option>
  <option value="Instagram">Instagram</option>
  <option value="Mail">Mail</option>
</select>
<label>IcÃ´ne</label>
<select id="icon">
  <option value="https://img.icons8.com/ios-filled/100/ffffff/sms.png">Messages</option>
  <option value="https://img.icons8.com/ios-filled/100/ffffff/whatsapp.png">WhatsApp</option>
  <option value="https://img.icons8.com/ios-filled/100/ffffff/instagram-new.png">Instagram</option>
  <option value="https://img.icons8.com/ios-filled/100/ffffff/apple-mail.png">Mail</option>
</select>
<label>Titre</label>
<input id="title" value="Inconnu">
<label>Message</label>
<textarea id="body">On sait oÃ¹ tu es.</textarea>
<button onclick="sendNotif()">Envoyer notification</button>
</div>

<script>
const socket = new WebSocket(
  'wss://demo.piesocket.com/v3/channel/cm-matguido-film?api_key=demokey&notify_self=1'
);

let socketReady = false;

socket.addEventListener('open', () => {
  socketReady = true;
});

function sendTime() {
  if (!socketReady) return alert('Connexion pas encore prÃªte');

  socket.send(JSON.stringify({
    type: 'time',
    time: time.value,
    date: date.value,
    color: color.value,
    wallpaper: wallpaper.value
  }));
}

function sendNotif() {
  if (!socketReady) return alert('Connexion pas encore prÃªte');

  socket.send(JSON.stringify({
    type: 'notif',
    app: app.value,
    icon: icon.value,
    title: title.value,
    body: body.value
  }));
}
</script>

</body>
</html>
